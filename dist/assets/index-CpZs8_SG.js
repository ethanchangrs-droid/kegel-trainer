import{r as j,a as Q,g as Y,R as M}from"./vendor-F9Y4d3HK.js";import{m as y,A as X}from"./motion-XCmOd2NS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var B={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=j,V=Symbol.for("react.element"),ee=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,ne=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0};function H(e,t,n){var s,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)te.call(t,s)&&!re.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:V,type:e,key:a,ref:o,props:i,_owner:ne.current}}E.Fragment=ee;E.jsx=H;E.jsxs=H;B.exports=E;var r=B.exports,I={},q=Q;I.createRoot=q.createRoot,I.hydrateRoot=q.hydrateRoot;const N=({variant:e="primary",size:t="md",disabled:n=!1,fullWidth:s=!1,onClick:i,children:a,className:o=""})=>{const l="font-semibold rounded-xl transition-colors duration-150 select-none",c={primary:"bg-primary text-white hover:bg-primary-dark disabled:bg-gray-300",secondary:"border-2 border-primary text-primary hover:bg-primary/5 disabled:border-gray-300 disabled:text-gray-300",text:"text-gray-500 hover:text-gray-700 disabled:text-gray-300"},u={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return r.jsx(y.button,{className:`
        ${l}
        ${c[e]}
        ${u[t]}
        ${s?"w-full":""}
        ${n?"cursor-not-allowed":"cursor-pointer"}
        ${o}
      `,disabled:n,onClick:i,whileTap:n?{}:{scale:.98},transition:{duration:.1},children:a})},w=({value:e,min:t,max:n,step:s=1,label:i,unit:a,onChange:o,disabled:l=!1})=>r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsx("span",{className:"text-gray-700 text-sm sm:text-base",children:i}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsx("input",{type:"range",min:t,max:n,step:s,value:e,onChange:c=>o(Number(c.target.value)),disabled:l,className:`w-24 sm:w-32 h-2 bg-gray-200 rounded-full appearance-none cursor-pointer
                     accent-primary disabled:cursor-not-allowed disabled:opacity-50
                     [&::-webkit-slider-thumb]:appearance-none
                     [&::-webkit-slider-thumb]:w-5
                     [&::-webkit-slider-thumb]:h-5
                     [&::-webkit-slider-thumb]:rounded-full
                     [&::-webkit-slider-thumb]:bg-primary
                     [&::-webkit-slider-thumb]:shadow-md
                     [&::-webkit-slider-thumb]:cursor-pointer
                     [&::-webkit-slider-thumb]:transition-transform
                     [&::-webkit-slider-thumb]:hover:scale-110`}),r.jsxs("span",{className:"w-14 sm:w-16 text-right font-medium text-primary tabular-nums",children:[e,a]})]})]}),T=({title:e,children:t})=>r.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4 shadow-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 pb-2 border-b border-gray-100",children:e}),r.jsx("div",{className:"divide-y divide-gray-50",children:t})]}),se=({sets:e,repsPerSet:t,onSetsChange:n,onRepsChange:s})=>r.jsxs(T,{title:"æ”¶æ”¾è‡ªå¦‚",children:[r.jsx("p",{className:"text-sm text-gray-400 -mt-1 mb-2",children:"æ”¶ç´§ä¸€ä¸‹å°±æ”¾æ¾"}),r.jsx(w,{label:"ç»„æ•°",value:e,min:0,max:5,unit:"ç»„",onChange:n}),r.jsx(w,{label:"æ¯ç»„æ¬¡æ•°",value:t,min:5,max:30,unit:"æ¬¡",onChange:s,disabled:e===0})]}),ae=({sets:e,repsPerSet:t,contractDuration:n,onSetsChange:s,onRepsChange:i,onContractDurationChange:a})=>r.jsxs(T,{title:"åšæŒä¸€ä¸‹",children:[r.jsx("p",{className:"text-sm text-gray-400 -mt-1 mb-2",children:"æ”¶ç´§åŽåšæŒä¸€ä¼šå„¿å†æ”¾æ¾"}),r.jsx(w,{label:"ç»„æ•°",value:e,min:0,max:5,unit:"ç»„",onChange:s}),r.jsx(w,{label:"æ¯ç»„æ¬¡æ•°",value:t,min:5,max:30,unit:"æ¬¡",onChange:i,disabled:e===0}),r.jsx(w,{label:"æ”¶ç´§æ—¶é—´",value:n,min:3,max:15,unit:"ç§’",onChange:a,disabled:e===0})]}),ie=({relaxDuration:e,restBetweenSets:t,onRelaxDurationChange:n,onRestBetweenSetsChange:s})=>r.jsxs(T,{title:"é€šç”¨è®¾ç½®",children:[r.jsx(w,{label:"æ”¾æ¾æ—¶é—´",value:e,min:3,max:10,unit:"ç§’",onChange:n}),r.jsx(w,{label:"ç»„é—´é—´éš”",value:t,min:10,max:30,unit:"ç§’",onChange:s})]}),oe={},O=e=>{let t;const n=new Set,s=(p,v)=>{const h=typeof p=="function"?p(t):p;if(!Object.is(h,t)){const d=t;t=v??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,d))}},i=()=>t,c={setState:s,getState:i,getInitialState:()=>u,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(oe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,i,c);return c},ce=e=>e?O(e):O;var z={exports:{}},W={},U={exports:{}},J={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R=j;function le(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ue=typeof Object.is=="function"?Object.is:le,de=R.useState,me=R.useEffect,pe=R.useLayoutEffect,xe=R.useDebugValue;function fe(e,t){var n=t(),s=de({inst:{value:n,getSnapshot:t}}),i=s[0].inst,a=s[1];return pe(function(){i.value=n,i.getSnapshot=t,_(i)&&a({inst:i})},[e,n,t]),me(function(){return _(i)&&a({inst:i}),e(function(){_(i)&&a({inst:i})})},[e]),xe(n),n}function _(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ue(e,n)}catch{return!0}}function he(e,t){return t()}var ye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?he:fe;J.useSyncExternalStore=R.useSyncExternalStore!==void 0?R.useSyncExternalStore:ye;U.exports=J;var ge=U.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k=j,ve=ge;function be(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Se=typeof Object.is=="function"?Object.is:be,je=ve.useSyncExternalStore,we=k.useRef,Re=k.useEffect,Ne=k.useMemo,Ce=k.useDebugValue;W.useSyncExternalStoreWithSelector=function(e,t,n,s,i){var a=we(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Ne(function(){function c(d){if(!u){if(u=!0,p=d,d=s(d),i!==void 0&&o.hasValue){var g=o.value;if(i(g,d))return v=g}return v=d}if(g=v,Se(p,d))return g;var f=s(d);return i!==void 0&&i(g,f)?(p=d,g):(p=d,v=f)}var u=!1,p,v,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,s,i]);var l=je(e,a[0],a[1]);return Re(function(){o.hasValue=!0,o.value=l},[l]),Ce(l),l};z.exports=W;var De=z.exports;const Ee=Y(De),G={},{useDebugValue:ke}=M,{useSyncExternalStoreWithSelector:Pe}=Ee;let F=!1;const _e=e=>e;function Ie(e,t=_e,n){(G?"production":void 0)!=="production"&&n&&!F&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),F=!0);const s=Pe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ke(s),s}const Te=e=>{(G?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ce(e):e,n=(s,i)=>Ie(t,s,i);return Object.assign(n,t),n},$e=e=>Te,qe={};function Oe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=n.getItem(i))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const C=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return C(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return C(s)(n)}}}},Fe=(e,t)=>(n,s,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...x)},s,i);const p=C(a.serialize),v=()=>{const x=a.partialize({...s()});let b;const m=p({state:x,version:a.version}).then(S=>u.setItem(a.name,S)).catch(S=>{b=S});if(b)throw b;return m},h=i.setState;i.setState=(x,b)=>{h(x,b),v()};const d=e((...x)=>{n(...x),v()},s,i);let g;const f=()=>{var x;if(!u)return;o=!1,l.forEach(m=>m(s()));const b=((x=a.onRehydrateStorage)==null?void 0:x.call(a,s()))||void 0;return C(u.getItem.bind(u))(a.name).then(m=>{if(m)return a.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return a.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var S;return g=a.merge(m,(S=s())!=null?S:d),n(g,!0),v()}).then(()=>{b==null||b(g,void 0),o=!0,c.forEach(m=>m(g))}).catch(m=>{b==null||b(void 0,m)})};return i.persist={setOptions:x=>{a={...a,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},f(),g||d},Ae=(e,t)=>(n,s,i)=>{let a={storage:Oe(()=>localStorage),partialize:f=>f,version:0,merge:(f,x)=>({...x,...f}),...t},o=!1;const l=new Set,c=new Set;let u=a.storage;if(!u)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...f)},s,i);const p=()=>{const f=a.partialize({...s()});return u.setItem(a.name,{state:f,version:a.version})},v=i.setState;i.setState=(f,x)=>{v(f,x),p()};const h=e((...f)=>{n(...f),p()},s,i);i.getInitialState=()=>h;let d;const g=()=>{var f,x;if(!u)return;o=!1,l.forEach(m=>{var S;return m((S=s())!=null?S:h)});const b=((x=a.onRehydrateStorage)==null?void 0:x.call(a,(f=s())!=null?f:h))||void 0;return C(u.getItem.bind(u))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return[!0,a.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var S;const[P,D]=m;if(d=a.merge(D,(S=s())!=null?S:h),n(d,!0),P)return p()}).then(()=>{b==null||b(d,void 0),d=s(),o=!0,c.forEach(m=>m(d))}).catch(m=>{b==null||b(void 0,m)})};return i.persist={setOptions:f=>{a={...a,...f},f.storage&&(u=f.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:f=>(l.add(f),()=>{l.delete(f)}),onFinishHydration:f=>(c.add(f),()=>{c.delete(f)})},a.skipHydration||g(),d||h},Le=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((qe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Fe(e,t)):Ae(e,t),Me=Le,A={quickSets:2,quickRepsPerSet:20,quickContractDuration:1,sustainedSets:1,sustainedRepsPerSet:20,sustainedContractDuration:10,relaxDuration:5,restBetweenSets:20},Be={phase:"idle",currentMode:"quick",currentSet:1,currentRep:1,secondsRemaining:0,totalProgress:0};function He(e){const t=[];for(let n=1;n<=e.quickSets;n++)t.push({mode:"quick",setNumber:n,repsCount:e.quickRepsPerSet,contractDuration:e.quickContractDuration,relaxDuration:e.relaxDuration});for(let n=1;n<=e.sustainedSets;n++)t.push({mode:"sustained",setNumber:n,repsCount:e.sustainedRepsPerSet,contractDuration:e.sustainedContractDuration,relaxDuration:e.relaxDuration});return t}function ze(e){const n=e.quickSets*e.quickRepsPerSet*(e.quickContractDuration+e.relaxDuration),s=e.sustainedSets*e.sustainedRepsPerSet*(e.sustainedContractDuration+e.relaxDuration),a=(e.quickSets+e.sustainedSets-1)*e.restBetweenSets;return 3+n+s+a}function L(e){return e.quickSets*e.quickRepsPerSet+e.sustainedSets*e.sustainedRepsPerSet}function We(e){const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`}function Ue(e){const t=Math.floor(e/60),n=e%60;return t===0?`${n}ç§’`:n===0?`${t}åˆ†é’Ÿ`:`${t}åˆ†${n}ç§’`}function Je(e){return e.quickSets+e.sustainedSets}const $=$e()(Me((e,t)=>({settings:A,state:Be,plan:[],planIndex:0,startTime:null,completedReps:0,result:null,updateSettings:n=>e(s=>({settings:{...s.settings,...n}})),resetSettings:()=>e({settings:A}),startTraining:()=>{const{settings:n}=t(),s=He(n);e({plan:s,planIndex:0,startTime:Date.now(),completedReps:0,result:null,state:{phase:"countdown",currentMode:"quick",currentSet:1,currentRep:1,secondsRemaining:3,totalProgress:0}})},pauseTraining:()=>{const{state:n}=t();e({state:{...n,previousPhase:n.phase,phase:"paused"}})},resumeTraining:()=>{const{state:n}=t();e({state:{...n,phase:n.previousPhase||"contract",previousPhase:void 0}})},stopTraining:()=>{const{completedReps:n,startTime:s,settings:i,planIndex:a,state:o}=t(),l=L(i),c=s?Math.floor((Date.now()-s)/1e3):0;let u=0;for(let p=0;p<a;p++)u++;(o.currentRep>1||o.phase==="completed")&&u++,e({state:{...o,phase:"completed"},result:{totalReps:n,totalDuration:c,completedSets:u,isCompleted:n>=l}})},tick:()=>{const{state:n,plan:s,planIndex:i,settings:a,completedReps:o}=t(),{phase:l,secondsRemaining:c,currentRep:u}=n;if(l==="paused"||l==="completed"||l==="idle")return;if(c>1){e({state:{...n,secondsRemaining:c-1}});return}const p=s[i],v=L(a);switch(l){case"countdown":e({state:{...n,phase:"contract",currentMode:p.mode,currentSet:p.setNumber,secondsRemaining:p.contractDuration}});break;case"contract":e({state:{...n,phase:"relax",secondsRemaining:p.relaxDuration}});break;case"relax":{const h=o+1,d=Math.round(h/v*100);u<p.repsCount?e({completedReps:h,state:{...n,phase:"contract",currentRep:u+1,secondsRemaining:p.contractDuration,totalProgress:d}}):i+1>=s.length?(e({completedReps:h,state:{...n,phase:"completed",totalProgress:100}}),t().stopTraining()):e({completedReps:h,state:{...n,phase:"rest",secondsRemaining:a.restBetweenSets,totalProgress:d}});break}case"rest":{const h=i+1,d=s[h];e({planIndex:h,state:{...n,phase:"contract",currentMode:d.mode,currentSet:d.setNumber,currentRep:1,secondsRemaining:d.contractDuration}});break}}}}),{name:"kegel-trainer-settings",partialize:e=>({settings:e.settings})}));function Ge(e){return{idle:"å‡†å¤‡",countdown:"å‡†å¤‡",contract:"æ”¶ç´§",relax:"æ”¾æ¾",rest:"ä¼‘æ¯",paused:"å·²æš‚åœ",completed:"å®Œæˆ"}[e]}function Ke(e){return{idle:"#26A69A",countdown:"#FFC107",contract:"#FF7043",relax:"#26A69A",rest:"#80CBC4",paused:"#757575",completed:"#4CAF50"}[e]}const Qe=({onStart:e})=>{const{settings:t,updateSettings:n,resetSettings:s,startTraining:i}=$(),a=ze(t),o=Ue(a),l=()=>{i(),e()};return r.jsx(y.div,{className:"min-h-screen bg-gradient-to-b from-primary/5 to-white p-4 pb-8",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("header",{className:"text-center py-6 sm:py-8",children:[r.jsx(y.h1,{className:"text-3xl sm:text-4xl font-bold text-gray-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:"æåˆšåŠ©æ‰‹"}),r.jsx(y.p,{className:"text-gray-500 mt-2",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:"è½»æ¾é”»ç‚¼ï¼Œå¥åº·ç”Ÿæ´»"})]}),r.jsxs(y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[r.jsx(se,{sets:t.quickSets,repsPerSet:t.quickRepsPerSet,onSetsChange:c=>n({quickSets:c}),onRepsChange:c=>n({quickRepsPerSet:c})}),r.jsx(ae,{sets:t.sustainedSets,repsPerSet:t.sustainedRepsPerSet,contractDuration:t.sustainedContractDuration,onSetsChange:c=>n({sustainedSets:c}),onRepsChange:c=>n({sustainedRepsPerSet:c}),onContractDurationChange:c=>n({sustainedContractDuration:c})}),r.jsx(ie,{relaxDuration:t.relaxDuration,restBetweenSets:t.restBetweenSets,onRelaxDurationChange:c=>n({relaxDuration:c}),onRestBetweenSetsChange:c=>n({restBetweenSets:c})})]}),r.jsxs(y.div,{className:"text-center text-gray-500 my-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:["é¢„è®¡è®­ç»ƒæ—¶é•¿: ",r.jsx("span",{className:"font-medium text-primary",children:o})]}),r.jsx(y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:r.jsx(N,{variant:"primary",size:"lg",fullWidth:!0,onClick:l,children:"å¼€å§‹è®­ç»ƒ"})}),r.jsx(y.div,{className:"text-center mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:r.jsx("button",{className:"text-gray-400 text-sm hover:text-gray-600 transition-colors",onClick:s,children:"æ¢å¤é»˜è®¤è®¾ç½®"})})]})})},K=({progress:e,size:t=240,strokeWidth:n=12,color:s,backgroundColor:i="#E0E0E0",children:a,pulse:o=!1})=>{const l=(t-n)/2,c=l*2*Math.PI,u=c-e/100*c;return r.jsxs("div",{className:"relative",style:{width:t,height:t},children:[r.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[r.jsx("circle",{cx:t/2,cy:t/2,r:l,fill:"none",stroke:i,strokeWidth:n}),r.jsx(y.circle,{cx:t/2,cy:t/2,r:l,fill:"none",stroke:s,strokeWidth:n,strokeLinecap:"round",strokeDasharray:c,initial:{strokeDashoffset:c},animate:{strokeDashoffset:u},transition:{duration:.1,ease:"linear"}})]}),r.jsx(y.div,{className:"absolute inset-0 flex items-center justify-center",animate:o?{scale:[1,1.05,1]}:{},transition:o?{duration:1,repeat:1/0}:{},children:a})]})},Ye=({seconds:e})=>{const t=(3-e)/3*100;return r.jsxs(y.div,{className:"min-h-screen bg-gradient-to-b from-countdown/10 to-white flex flex-col items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[r.jsx(y.p,{className:"text-xl text-gray-600 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:"å‡†å¤‡å¼€å§‹"}),r.jsx(K,{progress:t,color:"#FFC107",size:200,strokeWidth:10,pulse:!0,children:r.jsx(y.span,{className:"text-6xl font-bold text-countdown",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},children:e},e)}),r.jsx(y.p,{className:"text-gray-400 mt-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"å³å°†å¼€å§‹è®­ç»ƒ..."})]})},Xe=({state:e,settings:t,currentPlan:n,totalSets:s,onPause:i,onResume:a,onStop:o})=>{const{phase:l,currentMode:c,currentSet:u,currentRep:p,secondsRemaining:v,totalProgress:h}=e,d=l==="paused",g=l==="rest",x=g?t.restBetweenSets:l==="contract"?n.contractDuration:l==="relax"?n.relaxDuration:1,b=(x-v)/x*100,m=Ke(l),S=Ge(l),P=c==="quick"?"æ”¶æ”¾è‡ªå¦‚":"åšæŒä¸€ä¸‹",D=c==="quick"?u:t.quickSets+u;return r.jsxs(y.div,{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white flex flex-col items-center justify-center p-4 select-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},children:[r.jsxs(y.div,{className:"text-center mb-6",initial:{opacity:0},animate:{opacity:1},children:[r.jsxs("span",{className:"text-lg text-gray-600",children:["ç¬¬",D,"ç»„ Â· ",P,"æ¨¡å¼"]}),r.jsxs("span",{className:"text-gray-400 ml-2",children:[D,"/",s,"ç»„"]})]}),r.jsx(K,{progress:d?0:b,color:m,size:260,strokeWidth:14,children:r.jsx("div",{className:"text-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-4xl mb-2",children:"â¸ï¸"}),r.jsx("div",{className:"text-2xl font-bold text-gray-500",children:"å·²æš‚åœ"})]}):r.jsxs(r.Fragment,{children:[r.jsx(y.div,{className:"text-4xl font-bold",style:{color:m},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300},children:S},l),r.jsxs("div",{className:"text-3xl text-gray-600 mt-2 tabular-nums",children:[v,"ç§’"]})]})})}),!g&&!d&&r.jsxs(y.div,{className:"text-xl text-gray-600 mt-6",initial:{opacity:0},animate:{opacity:1},children:["ç¬¬ ",r.jsx("span",{className:"font-semibold text-primary",children:p})," / ",n.repsCount," æ¬¡"]}),g&&!d&&r.jsx(y.div,{className:"text-lg text-gray-500 mt-6",initial:{opacity:0},animate:{opacity:1},children:"ç»„é—´ä¼‘æ¯ä¸­ï¼Œå‡†å¤‡ä¸‹ä¸€ç»„"}),r.jsxs("div",{className:"w-full max-w-xs mt-8",children:[r.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx(y.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.3}})}),r.jsxs("div",{className:"text-center text-gray-500 text-sm mt-2",children:["æ€»è¿›åº¦ ",h,"%"]})]}),r.jsxs("div",{className:"flex gap-4 mt-10",children:[r.jsx(N,{variant:"secondary",onClick:d?a:i,children:d?"ç»§ç»­":"æš‚åœ"}),r.jsx(N,{variant:"text",onClick:o,children:"ç»“æŸè®­ç»ƒ"})]})]})};function Ze(e,t,n=1e3){const s=j.useRef(t),i=j.useRef(0);j.useEffect(()=>{s.current=t},[t]),j.useEffect(()=>{if(!e){i.current=0;return}i.current=Date.now();const a=setInterval(()=>{const o=Date.now();o-i.current>=n&&(s.current(),i.current=o)},100);return()=>clearInterval(a)},[e,n])}const Ve=({onComplete:e,onExit:t})=>{const{state:n,settings:s,plan:i,planIndex:a,tick:o,pauseTraining:l,resumeTraining:c,stopTraining:u}=$(),{phase:p}=n;Ze(p!=="idle"&&p!=="paused"&&p!=="completed",o,1e3),j.useEffect(()=>{p==="completed"&&e()},[p,e]);const h=()=>{u(),t()};if(p==="countdown")return r.jsx(Ye,{seconds:n.secondsRemaining});const d=i[a]||i[0],g=Je(s);return r.jsx(y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx(Xe,{state:n,settings:s,currentPlan:d,totalSets:g,onPause:l,onResume:c,onStop:h})})},et=({result:e,onRestart:t,onBackHome:n})=>{const s=e||{totalReps:0,totalDuration:0,completedSets:0,isCompleted:!1},i=s.isCompleted?"å¤ªæ£’äº†ï¼å®Œç¾Žå®Œæˆè®­ç»ƒ ðŸ’ª":"ç»§ç»­åŠ æ²¹ï¼åšæŒå°±æ˜¯èƒœåˆ© ðŸ’ª";return r.jsxs(y.div,{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex flex-col items-center justify-center p-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.4},children:[r.jsx(y.div,{className:"text-7xl mb-4",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},children:s.isCompleted?"ðŸŽ‰":"ðŸ‘"}),r.jsx(y.h1,{className:"text-3xl font-bold text-gray-800 mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:s.isCompleted?"è®­ç»ƒå®Œæˆï¼":"æœ¬æ¬¡è®­ç»ƒç»“æŸ"}),r.jsxs(y.div,{className:"bg-white rounded-xl p-6 shadow-lg w-full max-w-xs mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-100",children:"æœ¬æ¬¡è®­ç»ƒ"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"æ€»æ¬¡æ•°"}),r.jsxs("span",{className:"font-semibold text-primary",children:[s.totalReps," æ¬¡"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"æ€»æ—¶é•¿"}),r.jsx("span",{className:"font-semibold text-primary",children:We(s.totalDuration)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"å®Œæˆç»„æ•°"}),r.jsxs("span",{className:"font-semibold text-primary",children:[s.completedSets," ç»„"]})]})]})]}),r.jsx(y.p,{className:"text-gray-600 mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:i}),r.jsxs(y.div,{className:"w-full max-w-xs space-y-3",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:[r.jsx(N,{variant:"primary",size:"lg",fullWidth:!0,onClick:t,children:"å†æ¥ä¸€æ¬¡"}),r.jsx(N,{variant:"text",fullWidth:!0,onClick:n,children:"è¿”å›žé¦–é¡µ"})]})]})};function tt(){const[e,t]=j.useState("home"),{result:n,startTraining:s}=$(),i=()=>{t("training")},a=()=>{s(),t("training")},o=()=>{t("complete")},l=()=>{t("home")};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs(X,{mode:"wait",children:[e==="home"&&r.jsx(Qe,{onStart:i},"home"),e==="training"&&r.jsx(Ve,{onComplete:o,onExit:l},"training"),e==="complete"&&r.jsx(et,{result:n,onRestart:a,onBackHome:l},"complete")]})})}I.createRoot(document.getElementById("root")).render(r.jsx(M.StrictMode,{children:r.jsx(tt,{})}));
