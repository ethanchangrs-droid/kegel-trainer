# 提肛运动计数功能 - UI设计文档

## 文档信息
| 项目 | 内容 |
|------|------|
| 版本 | V1.0 |
| 创建日期 | 2025-12-04 11:02 |
| 更新日期 | 2025-12-04 11:02 |
| 关联PRD | PRD_提肛计数_V1.1_202512041052.md |
| 状态 | 设计中 |

## 版本历史
| 版本 | 日期 | 更新内容 |
|------|------|----------|
| V1.0 | 2025-12-04 | 初始版本，完整UI设计规范 |

---

## 1. 设计系统

### 1.1 设计原则
- **简洁至上**：减少视觉干扰，专注核心功能
- **清晰可见**：大字体、高对比度，运动中一目了然
- **轻松愉悦**：清新配色，让锻炼成为享受
- **响应式**：适配手机、平板、桌面各种屏幕

### 1.2 配色方案

#### 主色板
| 色彩名称 | 色值 | 用途 |
|----------|------|------|
| 主色-薄荷绿 | `#26A69A` | 品牌色、主按钮、放松状态 |
| 主色-浅薄荷 | `#80CBC4` | 次要元素、悬停状态 |
| 强调色-珊瑚橙 | `#FF7043` | 收紧状态、重要提示 |
| 强调色-浅珊瑚 | `#FFAB91` | 收紧状态背景 |

#### 中性色板
| 色彩名称 | 色值 | 用途 |
|----------|------|------|
| 背景色 | `#FAFBFC` | 页面背景 |
| 卡片背景 | `#FFFFFF` | 卡片、弹窗背景 |
| 分割线 | `#E0E0E0` | 分割线、边框 |
| 次要文字 | `#757575` | 辅助说明文字 |
| 主要文字 | `#212121` | 标题、正文 |

#### 功能色
| 色彩名称 | 色值 | 用途 |
|----------|------|------|
| 成功 | `#4CAF50` | 完成提示 |
| 警告 | `#FFC107` | 警告提示 |
| 错误 | `#F44336` | 错误提示 |

### 1.3 字体规范

#### 字体族
```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 
             'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
```

#### 字号层级
| 层级 | 字号 | 字重 | 行高 | 用途 |
|------|------|------|------|------|
| H1 | 48px | 700 | 1.2 | 倒计时数字、状态文字 |
| H2 | 32px | 600 | 1.3 | 页面标题 |
| H3 | 24px | 600 | 1.4 | 卡片标题 |
| Body-L | 18px | 400 | 1.5 | 主要正文 |
| Body-M | 16px | 400 | 1.5 | 次要正文 |
| Body-S | 14px | 400 | 1.5 | 辅助说明 |
| Caption | 12px | 400 | 1.4 | 标签、提示 |

### 1.4 间距系统

基础单位：4px

| 名称 | 值 | 用途 |
|------|-----|------|
| xs | 4px | 紧凑间距 |
| sm | 8px | 小间距 |
| md | 16px | 标准间距 |
| lg | 24px | 大间距 |
| xl | 32px | 区块间距 |
| xxl | 48px | 页面间距 |

### 1.5 圆角规范

| 名称 | 值 | 用途 |
|------|-----|------|
| sm | 8px | 小按钮、标签 |
| md | 12px | 输入框、卡片 |
| lg | 16px | 大卡片 |
| full | 9999px | 圆形按钮、进度环 |

### 1.6 阴影规范

| 层级 | 值 | 用途 |
|------|-----|------|
| shadow-sm | `0 1px 2px rgba(0,0,0,0.05)` | 轻微浮起 |
| shadow-md | `0 4px 6px rgba(0,0,0,0.07)` | 卡片 |
| shadow-lg | `0 10px 15px rgba(0,0,0,0.1)` | 弹窗、悬浮 |

---

## 2. 组件设计

### 2.1 按钮组件

#### 主按钮 (Primary Button)
```
┌─────────────────────────┐
│       开始训练           │
└─────────────────────────┘
- 背景: #26A69A
- 文字: #FFFFFF
- 圆角: 12px
- 高度: 56px (移动端) / 48px (桌面端)
- 字号: 18px, 字重 600
- 悬停: 背景变为 #2DB3A6
- 点击: 背景变为 #1E8E82
```

#### 次按钮 (Secondary Button)
```
┌─────────────────────────┐
│         暂停            │
└─────────────────────────┘
- 背景: #FFFFFF
- 边框: 2px solid #26A69A
- 文字: #26A69A
- 圆角: 12px
- 高度: 48px
```

#### 文字按钮 (Text Button)
```
结束训练
- 无背景
- 文字: #757575
- 字号: 16px
- 悬停: 文字变为 #212121
```

### 2.2 环形进度条组件

#### 基本参数
```
尺寸: 
- 移动端: 240px × 240px
- 桌面端: 280px × 280px

环宽度: 12px
背景环: #E0E0E0
进度环: 根据状态变化
```

#### 状态变化
| 状态 | 进度环颜色 | 中心文字 | 动画 |
|------|-----------|----------|------|
| 收紧 | `#FF7043` | "收紧" | 顺时针填充 |
| 放松 | `#26A69A` | "放松" | 顺时针填充 |
| 休息 | `#80CBC4` | 倒计时秒数 | 逆时针消退 |
| 准备 | `#FFC107` | 3/2/1 | 脉冲动画 |

#### 视觉示意
```
        收紧状态                    放松状态
    ╭──────────────╮           ╭──────────────╮
   ╱    ████████    ╲         ╱    ████████    ╲
  │   ██        ██   │       │   ██        ██   │
  │  █   收 紧    █  │       │  █   放 松    █  │
  │  █    8秒     █  │       │  █    3秒     █  │
  │   ██        ██   │       │   ██        ██   │
   ╲    ████████    ╱         ╲    ████████    ╱
    ╰──────────────╯           ╰──────────────╯
      橙色进度环                  绿色进度环
```

### 2.3 参数设置组件

#### 滑块选择器 (Slider)
```
不持续模式组数
──●────────────────── 2组
  1                  5

- 轨道高度: 4px
- 滑块: 24px 圆形
- 已选择区域: #26A69A
- 未选择区域: #E0E0E0
```

#### 数字调节器 (Number Stepper)
```
┌──────┬─────────────┬──────┐
│  -   │     20      │  +   │
└──────┴─────────────┴──────┘
- 高度: 48px
- 中间显示数值
- 两侧加减按钮
```

### 2.4 进度指示器

#### 组进度条
```
不持续模式  ●━━○━━○    持续模式  ○━━○━━○
             第1组               未开始
```

#### 总进度条
```
总进度 ████████░░░░░░░░░░░░ 35%

- 高度: 8px
- 圆角: 4px
- 已完成: #26A69A
- 未完成: #E0E0E0
```

---

## 3. 页面设计

### 3.1 首页/设置页

#### 布局结构 (移动端)
```
┌─────────────────────────────────┐
│                                 │
│           提肛助手              │  ← 标题 H2
│     轻松锻炼，健康生活           │  ← 副标题
│                                 │
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │  不持续模式                │  │  ← 设置卡片
│  │  ─────────────────────    │  │
│  │  组数      ○────●──○  2组  │  │
│  │  每组次数  ○──●────○  20次 │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │  持续模式                  │  │  ← 设置卡片
│  │  ─────────────────────    │  │
│  │  组数      ●────○──○  1组  │  │
│  │  每组次数  ○──●────○  20次 │  │
│  │  收紧时间  ○───●───○  10秒 │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │  通用设置                  │  │
│  │  ─────────────────────    │  │
│  │  放松时间  ○──●────○  5秒  │  │
│  │  组间间隔  ○───●───○  20秒 │  │
│  └───────────────────────────┘  │
│                                 │
│       预计训练时长: 10分钟       │  ← 动态计算
│                                 │
│  ┌───────────────────────────┐  │
│  │        开 始 训 练          │  │  ← 主按钮
│  └───────────────────────────┘  │
│                                 │
│        恢复默认设置             │  ← 文字链接
│                                 │
└─────────────────────────────────┘
```

#### 桌面端适配
- 最大宽度: 480px，水平居中
- 两侧留白，背景可添加装饰图案

### 3.2 倒计时页

#### 布局结构
```
┌─────────────────────────────────┐
│                                 │
│                                 │
│           准备开始              │  ← 提示文字
│                                 │
│                                 │
│         ╭─────────╮             │
│        ╱           ╲            │
│       │             │           │
│       │      3      │           │  ← 倒计时数字
│       │             │           │     带脉冲动画
│        ╲           ╱            │
│         ╰─────────╯             │
│                                 │
│                                 │
│        即将开始训练...           │  ← 辅助文字
│                                 │
│                                 │
└─────────────────────────────────┘
```

#### 动画效果
- 数字从 3 → 2 → 1 变化
- 每次变化伴随脉冲放大效果 (scale: 1 → 1.2 → 1)
- 圆环颜色: `#FFC107` (暖黄色)

### 3.3 运动页

#### 布局结构 (移动端)
```
┌─────────────────────────────────┐
│                                 │
│   第1组 · 不持续模式    1/3组    │  ← 组信息
│                                 │
│         ╭─────────────╮         │
│        ╱               ╲        │
│       ╱   ╭─────────╮   ╲       │
│      │   ╱           ╲   │      │  ← 环形进度
│      │  │   收 紧     │  │      │     动画
│      │  │    8秒      │  │      │
│      │   ╲           ╱   │      │
│       ╲   ╰─────────╯   ╱       │
│        ╲               ╱        │
│         ╰─────────────╯         │
│                                 │
│          第 5 / 20 次            │  ← 次数进度
│                                 │
│    ████████░░░░░░░░░░ 35%       │  ← 总进度条
│                                 │
│                                 │
│    ┌─────────┐  ┌─────────┐     │
│    │   暂停   │  │   结束   │     │  ← 控制按钮
│    └─────────┘  └─────────┘     │
│                                 │
└─────────────────────────────────┘
```

#### 状态切换动画
1. **收紧状态**
   - 环形进度条: 橙色 `#FF7043`
   - 中心文字: "收紧" + 剩余秒数
   - 进度顺时针填充

2. **放松状态**
   - 环形进度条: 绿色 `#26A69A`
   - 中心文字: "放松" + 剩余秒数
   - 进度顺时针填充

3. **组间休息**
   - 环形进度条: 浅绿色 `#80CBC4`
   - 中心文字: "休息" + 倒计时
   - 进度逆时针消退

#### 暂停状态
```
┌─────────────────────────────────┐
│                                 │
│          训练已暂停             │
│                                 │
│         ╭─────────────╮         │
│        ╱      ⏸️       ╲        │  ← 暂停图标
│       │    已暂停      │        │
│        ╲               ╱        │
│         ╰─────────────╯         │
│                                 │
│    ┌─────────┐  ┌─────────┐     │
│    │   继续   │  │   结束   │     │
│    └─────────┘  └─────────┘     │
│                                 │
└─────────────────────────────────┘
```

### 3.4 完成页

#### 布局结构
```
┌─────────────────────────────────┐
│                                 │
│                                 │
│              🎉                 │  ← 庆祝图标
│                                 │
│          训练完成！              │  ← 标题
│                                 │
│     ┌───────────────────────┐   │
│     │  本次训练              │   │
│     │  ─────────────────    │   │
│     │  总次数    60 次       │   │  ← 训练统计
│     │  总时长    10:23      │   │
│     │  完成组数  3 组        │   │
│     └───────────────────────┘   │
│                                 │
│     太棒了！坚持就是胜利 💪       │  ← 鼓励文字
│                                 │
│  ┌───────────────────────────┐  │
│  │        再来一次            │  │  ← 主按钮
│  └───────────────────────────┘  │
│                                 │
│          返回首页               │  ← 文字链接
│                                 │
└─────────────────────────────────┘
```

---

## 4. 交互设计

### 4.1 页面转场动画

| 转场 | 动画效果 | 时长 |
|------|---------|------|
| 首页 → 倒计时 | 淡入淡出 (fade) | 300ms |
| 倒计时 → 运动页 | 向上滑入 (slide-up) | 400ms |
| 运动页 → 完成页 | 放大淡入 (scale-fade) | 500ms |
| 任意 → 首页 | 淡出淡入 (fade) | 300ms |

### 4.2 环形进度动画

#### CSS动画参数
```css
/* 进度条动画 */
transition: stroke-dashoffset 100ms linear;

/* 状态切换时的颜色渐变 */
transition: stroke 300ms ease-in-out;

/* 脉冲动画（倒计时数字） */
@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}
animation: pulse 1s ease-in-out;
```

### 4.3 按钮反馈

| 状态 | 效果 |
|------|------|
| 悬停 (hover) | 轻微变亮，光标变为手型 |
| 按下 (active) | 轻微缩小 (scale: 0.98) |
| 禁用 (disabled) | 透明度 0.5，不可点击 |

### 4.4 滑块交互

- 拖动时显示当前数值气泡
- 松开后气泡消失
- 数值变化时轻微震动反馈（如设备支持）

---

## 5. 响应式设计

### 5.1 断点定义

| 断点 | 范围 | 设备 |
|------|------|------|
| sm | < 640px | 手机竖屏 |
| md | 640px - 1024px | 手机横屏、平板 |
| lg | > 1024px | 桌面 |

### 5.2 布局适配

#### 手机竖屏 (sm)
- 单列布局，全宽
- 环形进度: 240px
- 按钮: 全宽，高度 56px
- 间距: 16px

#### 平板/手机横屏 (md)
- 内容最大宽度: 480px
- 环形进度: 260px
- 按钮: 固定宽度 200px

#### 桌面 (lg)
- 内容最大宽度: 480px，居中
- 环形进度: 280px
- 可选: 两侧显示装饰插图

### 5.3 横屏适配（运动页）

```
┌──────────────────────────────────────────────────┐
│                                                  │
│    第1组·不持续     ╭──────────╮     第 5/20 次   │
│       1/3组        │   收紧   │    ████░░░ 35%  │
│                    │   8秒    │                 │
│                    ╰──────────╯   [暂停] [结束]  │
│                                                  │
└──────────────────────────────────────────────────┘
```

---

## 6. 无障碍设计

### 6.1 颜色对比度
- 文字与背景对比度 ≥ 4.5:1
- 大文字与背景对比度 ≥ 3:1

### 6.2 触摸目标
- 最小触摸区域: 44px × 44px
- 按钮间距 ≥ 8px

### 6.3 文字可缩放
- 支持浏览器字体缩放
- 使用 rem 单位

---

## 7. 资源清单

### 7.1 图标需求
| 图标 | 用途 | 建议 |
|------|------|------|
| 暂停 | 暂停按钮 | ⏸ 或 SVG |
| 播放 | 继续按钮 | ▶ 或 SVG |
| 停止 | 结束按钮 | ⏹ 或 SVG |
| 庆祝 | 完成页面 | 🎉 Emoji |
| 设置 | 设置入口 | ⚙ 或 SVG |

### 7.2 动效建议
- 使用 CSS 动画优先
- 复杂动效可考虑 Lottie 动画
- 环形进度使用 SVG 绘制

